<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fluxstack Library</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=DM+Sans:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="bg-blur bg-blur-1" aria-hidden="true"></div>
    <div class="bg-blur bg-blur-2" aria-hidden="true"></div>

    <header class="topbar">
      <div class="brand">
        <span class="brand-dot"></span>
        <h1>Fluxstack</h1>
      </div>
      <div class="top-actions">
        <button id="openSubmit" class="ghost">Submit Tool</button>
        <button id="adminLogin" class="ghost">Admin Login</button>
        <button id="openAdminAdd" class="ghost hidden">Add Tool (Admin)</button>
        <button id="toggleAdmin" class="ghost hidden">Admin Queue</button>
      </div>
    </header>

    <main class="layout">
      <section class="hero card">
        <p class="eyebrow">Calm AI Discovery</p>
        <h2>A visual library for finding the right AI tool without the noise.</h2>
        <p>
          Browse by need, not hype. Use natural language search, filter by category,
          and keep a quality-focused collection.
        </p>

        <div class="search-wrap">
          <input
            id="searchInput"
            type="text"
            placeholder="Try: best tools for social media video editing"
            aria-label="Search tools"
          />
          <button id="clearSearch" class="pill">Clear</button>
        </div>

        <div id="categoryFilters" class="chips" aria-label="Category filters"></div>
      </section>

      <section class="status card">
        <h3>Search Status</h3>
        <p>AI recommendations are coming soon. For now, use the main search and category chips above.</p>
        <div id="assistantOutput" class="assistant-output">Ready.</div>
      </section>

      <section class="grid-section">
        <div class="section-head">
          <h3>Tool Library</h3>
          <p id="resultCount">0 tools</p>
        </div>
        <div id="toolGrid" class="tool-grid"></div>
      </section>

      <section id="adminPanel" class="admin card hidden" aria-live="polite">
        <div class="section-head">
          <h3>Pending Submissions</h3>
          <p>Approve to publish</p>
        </div>
        <div id="pendingList" class="pending-list"></div>
      </section>
    </main>

    <dialog id="submitDialog">
      <form id="submitForm" method="dialog" class="submit-form">
        <h3>Submit a New Tool</h3>
        <label>
          Tool Name
          <input required name="name" type="text" />
        </label>
        <label>
          URL
          <input required name="url" type="url" placeholder="https://" />
        </label>
        <label>
          Category
          <select required name="category">
            <option value="Writing">Writing</option>
            <option value="Image">Image</option>
            <option value="Video">Video</option>
            <option value="Audio">Audio</option>
            <option value="Coding">Coding</option>
            <option value="Research">Research</option>
            <option value="Productivity">Productivity</option>
          </select>
        </label>
        <label>
          Description
          <textarea required name="description" rows="3"></textarea>
        </label>

        <div class="media-row">
          <label>
            Thumbnail URL (optional)
            <input name="thumbnailUrl" type="url" placeholder="https://..." />
          </label>
          <label>
            Demo Video URL (optional)
            <input name="demoVideoUrl" type="url" placeholder="https://..." />
          </label>
        </div>

        <button type="button" id="autoFillSubmit" class="ghost">Auto-fill Media from URL</button>

        <div class="dialog-actions">
          <button value="cancel" class="ghost" type="button" id="closeSubmit">Cancel</button>
          <button value="submit" class="pill" type="submit">Send for Approval</button>
        </div>
      </form>
    </dialog>

    <dialog id="adminAddDialog">
      <form id="adminAddForm" method="dialog" class="submit-form">
        <h3>Add Tool Directly (Admin)</h3>
        <label>
          Tool Name
          <input required name="name" type="text" />
        </label>
        <label>
          URL
          <input required name="url" type="url" placeholder="https://" />
        </label>
        <label>
          Category
          <select required name="category">
            <option value="Writing">Writing</option>
            <option value="Image">Image</option>
            <option value="Video">Video</option>
            <option value="Audio">Audio</option>
            <option value="Coding">Coding</option>
            <option value="Research">Research</option>
            <option value="Productivity">Productivity</option>
          </select>
        </label>
        <label>
          Description
          <textarea required name="description" rows="3"></textarea>
        </label>

        <div class="media-row">
          <label>
            Thumbnail URL (optional)
            <input name="thumbnailUrl" type="url" placeholder="https://..." />
          </label>
          <label>
            Demo Video URL (optional)
            <input name="demoVideoUrl" type="url" placeholder="https://..." />
          </label>
        </div>

        <button type="button" id="autoFillAdmin" class="ghost">Auto-fill Media from URL</button>

        <div class="dialog-actions">
          <button value="cancel" class="ghost" type="button" id="closeAdminAdd">Cancel</button>
          <button value="submit" class="pill" type="submit">Publish Tool</button>
        </div>
      </form>
    </dialog>

    <dialog id="editToolDialog">
      <form id="editToolForm" method="dialog" class="submit-form">
        <h3>Edit Tool (Admin)</h3>
        <input type="hidden" name="id" />
        <label>
          Tool Name
          <input required name="name" type="text" />
        </label>
        <label>
          URL
          <input required name="url" type="url" placeholder="https://" />
        </label>
        <label>
          Category
          <select required name="category">
            <option value="Writing">Writing</option>
            <option value="Image">Image</option>
            <option value="Video">Video</option>
            <option value="Audio">Audio</option>
            <option value="Coding">Coding</option>
            <option value="Research">Research</option>
            <option value="Productivity">Productivity</option>
          </select>
        </label>
        <label>
          Description
          <textarea required name="description" rows="3"></textarea>
        </label>

        <div class="media-row">
          <label>
            Thumbnail URL (optional)
            <input name="thumbnailUrl" type="url" placeholder="https://..." />
          </label>
          <label>
            Demo Video URL (optional)
            <input name="demoVideoUrl" type="url" placeholder="https://..." />
          </label>
        </div>

        <button type="button" id="autoFillEdit" class="ghost">Auto-fill Media from URL</button>

        <div class="dialog-actions">
          <button value="cancel" class="ghost" type="button" id="closeEditTool">Cancel</button>
          <button value="submit" class="pill" type="submit">Save Changes</button>
        </div>
      </form>
    </dialog>

    <dialog id="toolDetailDialog" class="detail-dialog">
      <article id="toolDetailContent" class="tool-detail"></article>
    </dialog>

    <script src="app.js"></script>
  </body>
</html>
